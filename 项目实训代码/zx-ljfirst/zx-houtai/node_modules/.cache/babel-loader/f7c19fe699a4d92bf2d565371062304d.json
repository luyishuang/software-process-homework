{"ast":null,"code":"var _jsxFileName = \"E:\\\\\\u5927\\u4E09\\\\\\u5927\\u4E09\\u4E0A\\\\\\u79FB\\u52A8web\\u5F00\\u53D1\\\\myapp\\\\src\\\\Hoc\\\\Hoc.js\";\nimport React, { Component } from 'react';\nlet url = 'https://api.apiopen.top/musicRankingsDetails?type=1';\n\nfunction getDisplayName(Com) {\n  return Com.displayName || Com.name || 'Component';\n}\n\nfunction hoc(Com, url, title) {\n  class Fetch extends Component {\n    constructor() {\n      super();\n      this.state = {\n        data: []\n      };\n    }\n\n    componentDidMount() {\n      //默认是get请求，可配置第二个参数，配置请求\n      fetch(url, {\n        methd: 'post'\n      }).then(res => res.json()).then(res => {\n        console.log(res);\n        this.setState({\n          data: res.result\n        });\n      });\n    }\n\n    render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, title), React.createElement(Com, Object.assign({}, this.props, {\n        data: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      })));\n    }\n\n  }\n\n  Fetch.displayName = \"Fetch(\".concat(getDisplayName(Com), \")\");\n  return Fetch;\n}\n\nclass Music extends Component {\n  render() {\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.props.a), this.props.data.map(item => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, item.title)));\n  }\n\n}\n\nclass Music2 extends Component {\n  render() {\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.props.data.map(item => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, item.title)));\n  }\n\n}\n\nlet Mymusic = hoc(Music, url, '音乐');\nlet Mymusic2 = hoc(Music2, url, '新闻');\nexport default class Hoc extends Component {\n  render() {\n    console.log(this);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Mymusic, {\n      a: \"aa\",\n      b: \"bb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(Mymusic2, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["E:\\大三\\大三上\\移动web开发\\myapp\\src\\Hoc\\Hoc.js"],"names":["React","Component","url","getDisplayName","Com","displayName","name","hoc","title","Fetch","constructor","state","data","componentDidMount","fetch","methd","then","res","json","console","log","setState","result","render","props","Music","a","map","item","Music2","Mymusic","Mymusic2","Hoc"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,IAAIC,GAAG,GAAG,qDAAV;;AAEA,SAASC,cAAT,CAAwBC,GAAxB,EAA4B;AACxB,SAAOA,GAAG,CAACC,WAAJ,IAAmBD,GAAG,CAACE,IAAvB,IAA+B,WAAtC;AACH;;AACD,SAASC,GAAT,CAAaH,GAAb,EAAiBF,GAAjB,EAAqBM,KAArB,EAA2B;AACvB,QAAMC,KAAN,SAAoBR,SAApB,CAA6B;AACzBS,IAAAA,WAAW,GAAE;AACT;AACA,WAAKC,KAAL,GAAa;AACTC,QAAAA,IAAI,EAAE;AADG,OAAb;AAGH;;AACDC,IAAAA,iBAAiB,GAAG;AAChB;AACAC,MAAAA,KAAK,CAACZ,GAAD,EAAK;AAACa,QAAAA,KAAK,EAAC;AAAP,OAAL,CAAL,CACKC,IADL,CACWC,GAAD,IAAOA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEWC,GAAD,IAAO;AACTE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,aAAKI,QAAL,CAAc;AACVT,UAAAA,IAAI,EAACK,GAAG,CAACK;AADC,SAAd;AAGH,OAPL;AAQH;;AACDC,IAAAA,MAAM,GAAE;AACJ,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIf,KAAJ,CADJ,EAGI,oBAAC,GAAD,oBAAS,KAAKgB,KAAd;AAAqB,QAAA,IAAI,EAAE,KAAKb,KAAL,CAAWC,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHJ,CADJ;AAOH;;AA1BwB;;AA4B7BH,EAAAA,KAAK,CAACJ,WAAN,mBAA6BF,cAAc,CAACC,GAAD,CAA3C;AACA,SAAOK,KAAP;AACH;;AACD,MAAMgB,KAAN,SAAoBxB,SAApB,CAA6B;AACzBsB,EAAAA,MAAM,GAAE;AACJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKC,KAAL,CAAWE,CAAhB,CADJ,EAGQ,KAAKF,KAAL,CAAWZ,IAAX,CAAgBe,GAAhB,CACKC,IAAD,IAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAI,CAACpB,KAAV,CADZ,CAHR,CADJ;AAUH;;AAZwB;;AAc7B,MAAMqB,MAAN,SAAqB5B,SAArB,CAA8B;AAC1BsB,EAAAA,MAAM,GAAE;AACJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,KAAKC,KAAL,CAAWZ,IAAX,CAAgBe,GAAhB,CACKC,IAAD,IAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAI,CAACpB,KAAV,CADZ,CAFR,CADJ;AASH;;AAXyB;;AAa9B,IAAIsB,OAAO,GAAGvB,GAAG,CAACkB,KAAD,EAAOvB,GAAP,EAAW,IAAX,CAAjB;AACA,IAAI6B,QAAQ,GAAGxB,GAAG,CAACsB,MAAD,EAAQ3B,GAAR,EAAY,IAAZ,CAAlB;AACA,eAAe,MAAM8B,GAAN,SAAkB/B,SAAlB,CAA4B;AACvCsB,EAAAA,MAAM,GAAG;AACTJ,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACI,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAS,MAAA,CAAC,EAAC,IAAX;AAAgB,MAAA,CAAC,EAAC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ;AAMH;;AATsC","sourcesContent":["import React, { Component } from 'react'\r\n\r\nlet url = 'https://api.apiopen.top/musicRankingsDetails?type=1'\r\n\r\nfunction getDisplayName(Com){\r\n    return Com.displayName || Com.name || 'Component';\r\n}\r\nfunction hoc(Com,url,title){\r\n    class Fetch extends Component{\r\n        constructor(){\r\n            super();\r\n            this.state = {\r\n                data: []\r\n            }\r\n        }\r\n        componentDidMount() {\r\n            //默认是get请求，可配置第二个参数，配置请求\r\n            fetch(url,{methd:'post'})\r\n                .then((res)=>res.json())\r\n                .then((res)=>{\r\n                    console.log(res);\r\n                    this.setState({\r\n                        data:res.result\r\n                    })\r\n                })\r\n        }\r\n        render(){\r\n            return (\r\n                <div>\r\n                    <p>{title}</p>\r\n                    {/* 传递父组件的属性给子组件 */}\r\n                    <Com {...this.props} data={this.state.data}/>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    Fetch.displayName = `Fetch(${getDisplayName(Com)})`;\r\n    return Fetch;\r\n}\r\nclass Music extends Component{\r\n    render(){\r\n        return(\r\n            <ul>\r\n                <li>{this.props.a}</li>\r\n                {\r\n                    this.props.data.map(\r\n                        (item)=><li>{item.title}</li>\r\n                    )\r\n                }\r\n            </ul>\r\n        )\r\n    }\r\n}\r\nclass Music2 extends Component{\r\n    render(){\r\n        return(\r\n            <ul>\r\n                {\r\n                    this.props.data.map(\r\n                        (item)=><li>{item.title}</li>\r\n                    )\r\n                }\r\n            </ul>\r\n        )\r\n    }\r\n}\r\nlet Mymusic = hoc(Music,url,'音乐');\r\nlet Mymusic2 = hoc(Music2,url,'新闻');\r\nexport default class Hoc extends Component {\r\n    render() {\r\n    console.log(this);\r\n        return (\r\n            <div>\r\n                <Mymusic a='aa' b='bb'/>\r\n                <Mymusic2/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}